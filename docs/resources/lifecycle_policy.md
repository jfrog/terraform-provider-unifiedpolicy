---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "unifiedpolicy_lifecycle_policy Resource - terraform-provider-unifiedpolicy"
subcategory: "Lifecycle Policies"
description: |-
  Provides a Unified Policy lifecycle policy resource. This resource allows you to create, update, and delete lifecycle policies. Lifecycle policies define enforcement mode, lifecycle actions (stage/gate), scope (project or application), and the rules to apply.
---

# unifiedpolicy_lifecycle_policy (Resource)

Provides a Unified Policy lifecycle policy resource. This resource allows you to create, update, and delete lifecycle policies. Lifecycle policies define enforcement mode, lifecycle actions (stage/gate), scope (project or application), and the rules to apply.

## Example Usage

```terraform
resource "unifiedpolicy_lifecycle_policy" "example" {
  name        = "Production Security Policy"
  description = "Block promotion on Critical CVEs"
  enabled     = true
  mode        = "block"

  action {
    type = "certify_to_gate"
    stage {
      key  = "PROD"
      gate = "release"
    }
  }

  scope {
    type         = "project"
    project_keys = ["my-project"]
  }

  rule_ids = ["rule-12345"]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) Whether the policy is active. Set to true to enable the policy, false to disable it.
- `mode` (String) Enforcement mode. Must be either 'block' or 'warning'. 'block' will prevent promotion when rules are violated. 'warning' will allow promotion but log violations.
- `name` (String) The policy name. Must be unique.
- `rule_ids` (List of String) IDs of rules enforced by this policy. The API allows exactly one rule per policy (documentation describes an array but validation enforces maximum 1 item). The rule ID must reference a valid rule that exists in the system.

### Optional

- `action` (Block, Optional) Lifecycle action governed by the policy. (see [below for nested schema](#nestedblock--action))
- `description` (String) A free-text description of the policy. This field is optional.
- `scope` (Block, Optional) Where the policy applies (project-level or application-level). (see [below for nested schema](#nestedblock--scope))

### Read-Only

- `id` (String) The ID of the lifecycle policy. This is computed and assigned by the API.

<a id="nestedblock--action"></a>
### Nested Schema for `action`

Required:

- `type` (String) Action type. Currently supports 'certify_to_gate'.

Optional:

- `stage` (Block, Optional) Lifecycle stage and gate configuration. (see [below for nested schema](#nestedblock--action--stage))

<a id="nestedblock--action--stage"></a>
### Nested Schema for `action.stage`

Required:

- `gate` (String) Lifecycle gate. Must be one of: 'entry', 'exit', 'release'.
- `key` (String) Lifecycle stage key (e.g., 'qa', 'production').



<a id="nestedblock--scope"></a>
### Nested Schema for `scope`

Required:

- `type` (String) Scope type. Must be either 'project' or 'application'.

Optional:

- `application_keys` (List of String) Applications to include (used with application scope). Each application key must be at least 1 character in length.
- `application_labels` (Block List) Label filters for application scope. Each entry has key and value. (see [below for nested schema](#nestedblock--scope--application_labels))
- `project_keys` (List of String) Projects to include (required for project scope). The API requires exactly one project key. Each key must be at least 1 character.

<a id="nestedblock--scope--application_labels"></a>
### Nested Schema for `scope.application_labels`

Required:

- `key` (String) Label key.
- `value` (String) Label value.

## Import

Import is supported using the following syntax:

```sh
#!/usr/bin/env bash
# Usage: ./import.sh <policy_id>
# Example: ./import.sh policy-1001
terraform import unifiedpolicy_lifecycle_policy.example "$1"
```
